# Filters used by [dorny/path-filters](https://github.com/dorny/paths-filter)
# to detect changes in each subproject, and only run the corresponding jobs.
#
# We use a composable action to add some additional checks.
# When adding a new category here, make sure to also update `.github/actions/check-changes/action.yml`

# Dependencies and common workspace configuration.
rust-config: &rust-config
  - "Cargo.lock"
  - "Cargo.toml"
  - ".github/workflows/ci-rs.yml"

model: &model
  - *rust-config
  - "hugr-model/**"

llvm: &llvm
  - *rust-config
  - "hugr-llvm/**"
  - "hugr-core/**"

rust: &rust
  - *rust-config
  - *model
  - *llvm
  - "hugr/**"
  - "hugr-cli/**"
  - "hugr-core/**"
  - "hugr-passes/**"
  - "hugr-persistent/**"
  - "specification/schema/**"

std-extensions:
  - "specification/std_extensions/**"

python:
  - *rust
  - "hugr-py/**"
  - "pyproject.toml"
  - "uv.lock"
  - "specification/schema/**"
  - ".github/workflows/ci-py.yml"
