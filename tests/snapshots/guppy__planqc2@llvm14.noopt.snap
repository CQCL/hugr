---
source: tests/guppy.rs
expression: module_string
---
; ModuleID = 'test_context'
source_filename = "test_context"

define i16 @_hl.teleport.25(i16 %0, i16 %1) {
alloca_block:
  %"0" = alloca i16, align 2
  %"5_0" = alloca i16, align 2
  %"5_1" = alloca i16, align 2
  %"27_0" = alloca i16, align 2
  %"6_0" = alloca i16, align 2
  %"6_1" = alloca i16, align 2
  %"03" = alloca i16, align 2
  %"7_0" = alloca i16, align 2
  %"7_1" = alloca i16, align 2
  %"8_0" = alloca i16, align 2
  %"8_1" = alloca i16, align 2
  %"9_0" = alloca i16, align 2
  %"9_1" = alloca i16, align 2
  %"10_0" = alloca i16, align 2
  %"11_0" = alloca i16, align 2
  %"12_0" = alloca i16, align 2
  %"37_1" = alloca { i32, {}, {} }, align 8
  %"32_1" = alloca i16, align 2
  %"35_1" = alloca i16, align 2
  %"28_0" = alloca i16, align 2
  %"29_0" = alloca i16, align 2
  %"30_0" = alloca i16, align 2
  %"30_1" = alloca i16, align 2
  %"31_0" = alloca { { i16, i16 } }, align 8
  %"32_0" = alloca i16, align 2
  %"33_0" = alloca i16, align 2
  %"33_1" = alloca i16, align 2
  %"34_0" = alloca { { i16, i16 } }, align 8
  %"35_0" = alloca i16, align 2
  %"36_0" = alloca i16, align 2
  %"37_0" = alloca i16, align 2
  %"41_0" = alloca { {} }, align 8
  %"40_0" = alloca i16, align 2
  %"43_0" = alloca { {} }, align 8
  %"45_1" = alloca { i32, {}, {} }, align 8
  %"45_0" = alloca i16, align 2
  %"49_0" = alloca { {} }, align 8
  %"48_0" = alloca i16, align 2
  %"51_0" = alloca { {} }, align 8
  %"53_0" = alloca { {} }, align 8
  br label %entry_block

entry_block:                                      ; preds = %alloca_block
  store i16 %0, i16* %"5_0", align 2
  store i16 %1, i16* %"5_1", align 2
  %"5_01" = load i16, i16* %"5_0", align 2
  %"5_12" = load i16, i16* %"5_1", align 2
  store i16 %"5_01", i16* %"6_0", align 2
  store i16 %"5_12", i16* %"6_1", align 2
  br label %2

2:                                                ; preds = %entry_block
  %"6_04" = load i16, i16* %"6_0", align 2
  %"6_15" = load i16, i16* %"6_1", align 2
  %3 = call i16 @QAlloc()
  store i16 %3, i16* %"28_0", align 2
  %"28_06" = load i16, i16* %"28_0", align 2
  %4 = call i16 @H(i16 %"28_06")
  store i16 %4, i16* %"29_0", align 2
  store i16 %"6_04", i16* %"6_0", align 2
  store i16 %"6_15", i16* %"6_1", align 2
  %"29_07" = load i16, i16* %"29_0", align 2
  %"6_18" = load i16, i16* %"6_1", align 2
  %5 = call { i16, i16 } @CX(i16 %"29_07", i16 %"6_18")
  %6 = extractvalue { i16, i16 } %5, 0
  %7 = extractvalue { i16, i16 } %5, 1
  store i16 %6, i16* %"30_0", align 2
  store i16 %7, i16* %"30_1", align 2
  %"30_09" = load i16, i16* %"30_0", align 2
  %"30_110" = load i16, i16* %"30_1", align 2
  %8 = insertvalue { i16, i16 } undef, i16 %"30_09", 0
  %9 = insertvalue { i16, i16 } %8, i16 %"30_110", 1
  %10 = insertvalue { { i16, i16 } } poison, { i16, i16 } %9, 0
  store { { i16, i16 } } %10, { { i16, i16 } }* %"31_0", align 2
  %"31_011" = load { { i16, i16 } }, { { i16, i16 } }* %"31_0", align 2
  %11 = extractvalue { { i16, i16 } } %"31_011", 0
  %12 = extractvalue { i16, i16 } %11, 0
  %13 = extractvalue { i16, i16 } %11, 1
  store i16 %12, i16* %"32_0", align 2
  store i16 %13, i16* %"32_1", align 2
  %"6_012" = load i16, i16* %"6_0", align 2
  %"32_013" = load i16, i16* %"32_0", align 2
  %14 = call { i16, i16 } @CX(i16 %"6_012", i16 %"32_013")
  %15 = extractvalue { i16, i16 } %14, 0
  %16 = extractvalue { i16, i16 } %14, 1
  store i16 %15, i16* %"33_0", align 2
  store i16 %16, i16* %"33_1", align 2
  %"33_014" = load i16, i16* %"33_0", align 2
  %"33_115" = load i16, i16* %"33_1", align 2
  %17 = insertvalue { i16, i16 } undef, i16 %"33_014", 0
  %18 = insertvalue { i16, i16 } %17, i16 %"33_115", 1
  %19 = insertvalue { { i16, i16 } } poison, { i16, i16 } %18, 0
  store { { i16, i16 } } %19, { { i16, i16 } }* %"34_0", align 2
  %"34_016" = load { { i16, i16 } }, { { i16, i16 } }* %"34_0", align 2
  %20 = extractvalue { { i16, i16 } } %"34_016", 0
  %21 = extractvalue { i16, i16 } %20, 0
  %22 = extractvalue { i16, i16 } %20, 1
  store i16 %21, i16* %"35_0", align 2
  store i16 %22, i16* %"35_1", align 2
  %"35_017" = load i16, i16* %"35_0", align 2
  %23 = call i16 @H(i16 %"35_017")
  store i16 %23, i16* %"36_0", align 2
  %"36_018" = load i16, i16* %"36_0", align 2
  %24 = call { i16, { i32, {}, {} } } @Measure(i16 %"36_018")
  %25 = extractvalue { i16, { i32, {}, {} } } %24, 0
  %26 = extractvalue { i16, { i32, {}, {} } } %24, 1
  store i16 %25, i16* %"37_0", align 2
  store { i32, {}, {} } %26, { i32, {}, {} }* %"37_1", align 4
  %"37_119" = load { i32, {}, {} }, { i32, {}, {} }* %"37_1", align 4
  %"32_120" = load i16, i16* %"32_1", align 2
  %"35_121" = load i16, i16* %"35_1", align 2
  store { i32, {}, {} } %"37_119", { i32, {}, {} }* %"37_1", align 4
  store i16 %"32_120", i16* %"32_1", align 2
  store i16 %"35_121", i16* %"35_1", align 2
  %"37_022" = load i16, i16* %"37_0", align 2
  call void @QFree(i16 %"37_022")
  %"37_123" = load { i32, {}, {} }, { i32, {}, {} }* %"37_1", align 4
  %"32_124" = load i16, i16* %"32_1", align 2
  %"35_125" = load i16, i16* %"35_1", align 2
  %27 = extractvalue { i32, {}, {} } %"37_123", 0
  switch i32 %27, label %28 [
    i32 1, label %30
  ]

28:                                               ; preds = %2
  %29 = extractvalue { i32, {}, {} } %"37_123", 1
  store i16 %"32_124", i16* %"8_0", align 2
  store i16 %"35_125", i16* %"8_1", align 2
  br label %36

30:                                               ; preds = %2
  %31 = extractvalue { i32, {}, {} } %"37_123", 2
  store i16 %"32_124", i16* %"7_0", align 2
  store i16 %"35_125", i16* %"7_1", align 2
  br label %32

32:                                               ; preds = %30
  %"7_027" = load i16, i16* %"7_0", align 2
  %"7_128" = load i16, i16* %"7_1", align 2
  store { {} } undef, { {} }* %"41_0", align 1
  store i16 %"7_027", i16* %"7_0", align 2
  store i16 %"7_128", i16* %"7_1", align 2
  %"7_029" = load i16, i16* %"7_0", align 2
  %33 = call i16 @Z(i16 %"7_029")
  store i16 %33, i16* %"40_0", align 2
  %"41_030" = load { {} }, { {} }* %"41_0", align 1
  %"40_031" = load i16, i16* %"40_0", align 2
  %"7_132" = load i16, i16* %"7_1", align 2
  store { {} } %"41_030", { {} }* %"41_0", align 1
  store i16 %"40_031", i16* %"40_0", align 2
  store i16 %"7_132", i16* %"7_1", align 2
  %"41_033" = load { {} }, { {} }* %"41_0", align 1
  %"40_034" = load i16, i16* %"40_0", align 2
  %"7_135" = load i16, i16* %"7_1", align 2
  switch i32 0, label %34 [
  ]

34:                                               ; preds = %32
  %35 = extractvalue { {} } %"41_033", 0
  store i16 %"40_034", i16* %"9_0", align 2
  store i16 %"7_135", i16* %"9_1", align 2
  br label %39

36:                                               ; preds = %28
  %"8_036" = load i16, i16* %"8_0", align 2
  %"8_137" = load i16, i16* %"8_1", align 2
  store { {} } undef, { {} }* %"43_0", align 1
  store i16 %"8_036", i16* %"8_0", align 2
  store i16 %"8_137", i16* %"8_1", align 2
  %"43_038" = load { {} }, { {} }* %"43_0", align 1
  %"8_039" = load i16, i16* %"8_0", align 2
  %"8_140" = load i16, i16* %"8_1", align 2
  store { {} } %"43_038", { {} }* %"43_0", align 1
  store i16 %"8_039", i16* %"8_0", align 2
  store i16 %"8_140", i16* %"8_1", align 2
  %"43_041" = load { {} }, { {} }* %"43_0", align 1
  %"8_042" = load i16, i16* %"8_0", align 2
  %"8_143" = load i16, i16* %"8_1", align 2
  switch i32 0, label %37 [
  ]

37:                                               ; preds = %36
  %38 = extractvalue { {} } %"43_041", 0
  store i16 %"8_042", i16* %"9_0", align 2
  store i16 %"8_143", i16* %"9_1", align 2
  br label %39

39:                                               ; preds = %37, %34
  %"9_044" = load i16, i16* %"9_0", align 2
  %"9_145" = load i16, i16* %"9_1", align 2
  store i16 %"9_044", i16* %"9_0", align 2
  store i16 %"9_145", i16* %"9_1", align 2
  %"9_146" = load i16, i16* %"9_1", align 2
  %40 = call { i16, { i32, {}, {} } } @Measure(i16 %"9_146")
  %41 = extractvalue { i16, { i32, {}, {} } } %40, 0
  %42 = extractvalue { i16, { i32, {}, {} } } %40, 1
  store i16 %41, i16* %"45_0", align 2
  store { i32, {}, {} } %42, { i32, {}, {} }* %"45_1", align 4
  %"45_147" = load { i32, {}, {} }, { i32, {}, {} }* %"45_1", align 4
  %"9_048" = load i16, i16* %"9_0", align 2
  store { i32, {}, {} } %"45_147", { i32, {}, {} }* %"45_1", align 4
  store i16 %"9_048", i16* %"9_0", align 2
  %"45_049" = load i16, i16* %"45_0", align 2
  call void @QFree(i16 %"45_049")
  %"45_150" = load { i32, {}, {} }, { i32, {}, {} }* %"45_1", align 4
  %"9_051" = load i16, i16* %"9_0", align 2
  %43 = extractvalue { i32, {}, {} } %"45_150", 0
  switch i32 %43, label %44 [
    i32 1, label %46
  ]

44:                                               ; preds = %39
  %45 = extractvalue { i32, {}, {} } %"45_150", 1
  store i16 %"9_051", i16* %"11_0", align 2
  br label %52

46:                                               ; preds = %39
  %47 = extractvalue { i32, {}, {} } %"45_150", 2
  store i16 %"9_051", i16* %"10_0", align 2
  br label %48

48:                                               ; preds = %46
  %"10_052" = load i16, i16* %"10_0", align 2
  store { {} } undef, { {} }* %"49_0", align 1
  store i16 %"10_052", i16* %"10_0", align 2
  %"10_053" = load i16, i16* %"10_0", align 2
  %49 = call i16 @X(i16 %"10_053")
  store i16 %49, i16* %"48_0", align 2
  %"49_054" = load { {} }, { {} }* %"49_0", align 1
  %"48_055" = load i16, i16* %"48_0", align 2
  store { {} } %"49_054", { {} }* %"49_0", align 1
  store i16 %"48_055", i16* %"48_0", align 2
  %"49_056" = load { {} }, { {} }* %"49_0", align 1
  %"48_057" = load i16, i16* %"48_0", align 2
  switch i32 0, label %50 [
  ]

50:                                               ; preds = %48
  %51 = extractvalue { {} } %"49_056", 0
  store i16 %"48_057", i16* %"12_0", align 2
  br label %55

52:                                               ; preds = %44
  %"11_058" = load i16, i16* %"11_0", align 2
  store { {} } undef, { {} }* %"51_0", align 1
  store i16 %"11_058", i16* %"11_0", align 2
  %"51_059" = load { {} }, { {} }* %"51_0", align 1
  %"11_060" = load i16, i16* %"11_0", align 2
  store { {} } %"51_059", { {} }* %"51_0", align 1
  store i16 %"11_060", i16* %"11_0", align 2
  %"51_061" = load { {} }, { {} }* %"51_0", align 1
  %"11_062" = load i16, i16* %"11_0", align 2
  switch i32 0, label %53 [
  ]

53:                                               ; preds = %52
  %54 = extractvalue { {} } %"51_061", 0
  store i16 %"11_062", i16* %"12_0", align 2
  br label %55

55:                                               ; preds = %53, %50
  %"12_063" = load i16, i16* %"12_0", align 2
  store { {} } undef, { {} }* %"53_0", align 1
  store i16 %"12_063", i16* %"12_0", align 2
  %"53_064" = load { {} }, { {} }* %"53_0", align 1
  %"12_065" = load i16, i16* %"12_0", align 2
  store { {} } %"53_064", { {} }* %"53_0", align 1
  store i16 %"12_065", i16* %"12_0", align 2
  %"53_066" = load { {} }, { {} }* %"53_0", align 1
  %"12_067" = load i16, i16* %"12_0", align 2
  switch i32 0, label %56 [
  ]

56:                                               ; preds = %55
  %57 = extractvalue { {} } %"53_066", 0
  store i16 %"12_067", i16* %"03", align 2
  br label %58

58:                                               ; preds = %56
  %"026" = load i16, i16* %"03", align 2
  store i16 %"026", i16* %"27_0", align 2
  %"27_068" = load i16, i16* %"27_0", align 2
  store i16 %"27_068", i16* %"0", align 2
  %"069" = load i16, i16* %"0", align 2
  ret i16 %"069"
}

declare i16 @QAlloc()

declare i16 @H(i16)

declare { i16, i16 } @CX(i16, i16)

declare { i16, { i32, {}, {} } } @Measure(i16)

declare void @QFree(i16)

declare i16 @Z(i16)

declare i16 @X(i16)

define { i32, {}, {} } @_hl.main.26() {
alloca_block:
  %"0" = alloca { i32, {}, {} }, align 8
  %"54_0" = alloca { i32, {}, {} }, align 8
  %"01" = alloca { i32, {}, {} }, align 8
  %"62_0" = alloca { {} }, align 8
  %"60_1" = alloca { i32, {}, {} }, align 8
  %"56_0" = alloca i16, align 2
  %"55_0" = alloca i16, align 2
  %"57_0" = alloca { { i16, i16 } }, align 8
  %"58_0" = alloca i16, align 2
  %"58_1" = alloca i16, align 2
  %"59_0" = alloca i16, align 2
  %"60_0" = alloca i16, align 2
  br label %entry_block

entry_block:                                      ; preds = %alloca_block
  br label %0

0:                                                ; preds = %entry_block
  store { {} } undef, { {} }* %"62_0", align 1
  %1 = call i16 @QAlloc()
  store i16 %1, i16* %"56_0", align 2
  %2 = call i16 @QAlloc()
  store i16 %2, i16* %"55_0", align 2
  %"55_02" = load i16, i16* %"55_0", align 2
  %"56_03" = load i16, i16* %"56_0", align 2
  %3 = insertvalue { i16, i16 } undef, i16 %"55_02", 0
  %4 = insertvalue { i16, i16 } %3, i16 %"56_03", 1
  %5 = insertvalue { { i16, i16 } } poison, { i16, i16 } %4, 0
  store { { i16, i16 } } %5, { { i16, i16 } }* %"57_0", align 2
  %"57_04" = load { { i16, i16 } }, { { i16, i16 } }* %"57_0", align 2
  %6 = extractvalue { { i16, i16 } } %"57_04", 0
  %7 = extractvalue { i16, i16 } %6, 0
  %8 = extractvalue { i16, i16 } %6, 1
  store i16 %7, i16* %"58_0", align 2
  store i16 %8, i16* %"58_1", align 2
  %"58_05" = load i16, i16* %"58_0", align 2
  %"58_16" = load i16, i16* %"58_1", align 2
  %9 = call i16 @_hl.teleport.25(i16 %"58_05", i16 %"58_16")
  store i16 %9, i16* %"59_0", align 2
  %"59_07" = load i16, i16* %"59_0", align 2
  %10 = call { i16, { i32, {}, {} } } @Measure(i16 %"59_07")
  %11 = extractvalue { i16, { i32, {}, {} } } %10, 0
  %12 = extractvalue { i16, { i32, {}, {} } } %10, 1
  store i16 %11, i16* %"60_0", align 2
  store { i32, {}, {} } %12, { i32, {}, {} }* %"60_1", align 4
  %"62_08" = load { {} }, { {} }* %"62_0", align 1
  %"60_19" = load { i32, {}, {} }, { i32, {}, {} }* %"60_1", align 4
  store { {} } %"62_08", { {} }* %"62_0", align 1
  store { i32, {}, {} } %"60_19", { i32, {}, {} }* %"60_1", align 4
  %"60_010" = load i16, i16* %"60_0", align 2
  call void @QFree(i16 %"60_010")
  %"62_011" = load { {} }, { {} }* %"62_0", align 1
  %"60_112" = load { i32, {}, {} }, { i32, {}, {} }* %"60_1", align 4
  switch i32 0, label %13 [
  ]

13:                                               ; preds = %0
  %14 = extractvalue { {} } %"62_011", 0
  store { i32, {}, {} } %"60_112", { i32, {}, {} }* %"01", align 4
  br label %15

15:                                               ; preds = %13
  %"013" = load { i32, {}, {} }, { i32, {}, {} }* %"01", align 4
  store { i32, {}, {} } %"013", { i32, {}, {} }* %"54_0", align 4
  %"54_014" = load { i32, {}, {} }, { i32, {}, {} }* %"54_0", align 4
  store { i32, {}, {} } %"54_014", { i32, {}, {} }* %"0", align 4
  %"015" = load { i32, {}, {} }, { i32, {}, {} }* %"0", align 4
  ret { i32, {}, {} } %"015"
}
