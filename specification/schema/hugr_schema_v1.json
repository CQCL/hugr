{
    "$defs": {
        "Array": {
            "description": "Known size array whose elements are of the same type.",
            "properties": {
                "ty": {
                    "$ref": "#/$defs/Type"
                },
                "t": {
                    "const": "Array",
                    "default": "Array",
                    "title": "T"
                },
                "len": {
                    "title": "Len",
                    "type": "integer"
                }
            },
            "required": [
                "ty",
                "len"
            ],
            "title": "Array",
            "type": "object"
        },
        "BoundedNatArg": {
            "properties": {
                "tya": {
                    "const": "BoundedNat",
                    "default": "BoundedNat",
                    "title": "Tya"
                },
                "n": {
                    "title": "N",
                    "type": "integer"
                }
            },
            "required": [
                "n"
            ],
            "title": "BoundedNatArg",
            "type": "object"
        },
        "BoundedNatParam": {
            "properties": {
                "tp": {
                    "const": "BoundedNat",
                    "default": "BoundedNat",
                    "title": "Tp"
                },
                "bound": {
                    "anyOf": [
                        {
                            "type": "integer"
                        },
                        {
                            "type": "null"
                        }
                    ],
                    "title": "Bound"
                }
            },
            "required": [
                "bound"
            ],
            "title": "BoundedNatParam",
            "type": "object"
        },
        "CFG": {
            "description": "A dataflow node which is defined by a child CFG.",
            "properties": {
                "parent": {
                    "title": "Parent",
                    "type": "integer"
                },
                "input_extensions": {
                    "$ref": "#/$defs/ExtensionSet"
                },
                "op": {
                    "const": "CFG",
                    "default": "CFG",
                    "title": "Op"
                },
                "signature": {
                    "$ref": "#/$defs/FunctionType"
                }
            },
            "required": [
                "parent"
            ],
            "title": "CFG",
            "type": "object"
        },
        "Call": {
            "description": "Operation to call a function directly. The first port is connected to the def/declare of the function being called directly, with a `Static<FunctionType>` edge. The signature of the remaining ports matches the function being called.",
            "properties": {
                "parent": {
                    "title": "Parent",
                    "type": "integer"
                },
                "input_extensions": {
                    "$ref": "#/$defs/ExtensionSet"
                },
                "op": {
                    "const": "Call",
                    "default": "Call",
                    "title": "Op"
                },
                "signature": {
                    "$ref": "#/$defs/FunctionType"
                }
            },
            "required": [
                "parent"
            ],
            "title": "Call",
            "type": "object"
        },
        "CallIndirect": {
            "description": "Call a function indirectly.\n\nLike call, but the first input is a standard dataflow graph type.",
            "properties": {
                "parent": {
                    "title": "Parent",
                    "type": "integer"
                },
                "input_extensions": {
                    "$ref": "#/$defs/ExtensionSet"
                },
                "op": {
                    "const": "CallIndirect",
                    "default": "CallIndirect",
                    "title": "Op"
                },
                "signature": {
                    "$ref": "#/$defs/FunctionType"
                }
            },
            "required": [
                "parent"
            ],
            "title": "CallIndirect",
            "type": "object"
        },
        "Case": {
            "description": "Case ops - nodes valid inside Conditional nodes.",
            "properties": {
                "parent": {
                    "title": "Parent",
                    "type": "integer"
                },
                "input_extensions": {
                    "$ref": "#/$defs/ExtensionSet"
                },
                "op": {
                    "const": "Case",
                    "default": "Case",
                    "title": "Op"
                },
                "signature": {
                    "$ref": "#/$defs/FunctionType"
                }
            },
            "required": [
                "parent"
            ],
            "title": "Case",
            "type": "object"
        },
        "Conditional": {
            "description": "Conditional operation, defined by child `Case` nodes for each branch.",
            "properties": {
                "parent": {
                    "title": "Parent",
                    "type": "integer"
                },
                "input_extensions": {
                    "$ref": "#/$defs/ExtensionSet"
                },
                "op": {
                    "const": "Conditional",
                    "default": "Conditional",
                    "title": "Op"
                },
                "other_inputs": {
                    "items": {
                        "$ref": "#/$defs/Type"
                    },
                    "title": "Other Inputs",
                    "type": "array"
                },
                "outputs": {
                    "items": {
                        "$ref": "#/$defs/Type"
                    },
                    "title": "Outputs",
                    "type": "array"
                },
                "sum_rows": {
                    "description": "The possible rows of the Sum input",
                    "items": {
                        "items": {
                            "$ref": "#/$defs/Type"
                        },
                        "type": "array"
                    },
                    "title": "Sum Rows",
                    "type": "array"
                },
                "extension_delta": {
                    "$ref": "#/$defs/ExtensionSet"
                }
            },
            "required": [
                "parent",
                "sum_rows"
            ],
            "title": "Conditional",
            "type": "object"
        },
        "Const": {
            "description": "A constant operation.",
            "discriminator": {
                "mapping": {
                    "Extension": "#/$defs/ExtensionConst",
                    "Function": "#/$defs/FunctionConst",
                    "Sum": "#/$defs/Sum",
                    "Tuple": "#/$defs/Tuple"
                },
                "propertyName": "c"
            },
            "oneOf": [
                {
                    "$ref": "#/$defs/ExtensionConst"
                },
                {
                    "$ref": "#/$defs/FunctionConst"
                },
                {
                    "$ref": "#/$defs/Tuple"
                },
                {
                    "$ref": "#/$defs/Sum"
                }
            ],
            "title": "Const"
        },
        "CustomOp": {
            "description": "A user-defined operation that can be downcasted by the extensions that define it.",
            "properties": {
                "parent": {
                    "title": "Parent",
                    "type": "integer"
                },
                "input_extensions": {
                    "$ref": "#/$defs/ExtensionSet"
                },
                "op": {
                    "const": "LeafOp",
                    "default": "LeafOp",
                    "title": "Op"
                },
                "lop": {
                    "const": "CustomOp",
                    "default": "CustomOp",
                    "title": "Lop"
                },
                "extension": {
                    "title": "Extension",
                    "type": "string"
                },
                "op_name": {
                    "title": "Op Name",
                    "type": "string"
                },
                "signature": {
                    "$ref": "#/$defs/FunctionType"
                },
                "description": {
                    "default": "",
                    "title": "Description",
                    "type": "string"
                },
                "args": {
                    "items": {
                        "$ref": "#/$defs/TypeArg"
                    },
                    "title": "Args",
                    "type": "array"
                }
            },
            "required": [
                "parent",
                "extension",
                "op_name"
            ],
            "title": "CustomOp",
            "type": "object"
        },
        "CustomTypeArg": {
            "properties": {
                "typ": {
                    "title": "Typ",
                    "type": "null"
                },
                "value": {
                    "title": "Value",
                    "type": "string"
                }
            },
            "required": [
                "typ",
                "value"
            ],
            "title": "CustomTypeArg",
            "type": "object"
        },
        "DFG": {
            "description": "A simply nested dataflow graph.",
            "properties": {
                "parent": {
                    "title": "Parent",
                    "type": "integer"
                },
                "input_extensions": {
                    "$ref": "#/$defs/ExtensionSet"
                },
                "op": {
                    "const": "DFG",
                    "default": "DFG",
                    "title": "Op"
                },
                "signature": {
                    "$ref": "#/$defs/FunctionType"
                }
            },
            "required": [
                "parent"
            ],
            "title": "DFG",
            "type": "object"
        },
        "DataflowBlock": {
            "description": "A CFG basic block node. The signature is that of the internal Dataflow graph.",
            "properties": {
                "parent": {
                    "title": "Parent",
                    "type": "integer"
                },
                "input_extensions": {
                    "$ref": "#/$defs/ExtensionSet"
                },
                "op": {
                    "const": "DataflowBlock",
                    "default": "DataflowBlock",
                    "title": "Op"
                },
                "inputs": {
                    "items": {
                        "$ref": "#/$defs/Type"
                    },
                    "title": "Inputs",
                    "type": "array"
                },
                "other_outputs": {
                    "items": {
                        "$ref": "#/$defs/Type"
                    },
                    "title": "Other Outputs",
                    "type": "array"
                },
                "sum_rows": {
                    "items": {
                        "items": {
                            "$ref": "#/$defs/Type"
                        },
                        "type": "array"
                    },
                    "title": "Sum Rows",
                    "type": "array"
                },
                "extension_delta": {
                    "$ref": "#/$defs/ExtensionSet"
                }
            },
            "required": [
                "parent",
                "op",
                "inputs",
                "other_outputs",
                "sum_rows",
                "extension_delta"
            ],
            "title": "DataflowBlock",
            "type": "object"
        },
        "ExitBlock": {
            "description": "The single exit node of the CFG, has no children, stores the types of the CFG node output.",
            "properties": {
                "parent": {
                    "title": "Parent",
                    "type": "integer"
                },
                "input_extensions": {
                    "$ref": "#/$defs/ExtensionSet"
                },
                "op": {
                    "const": "ExitBlock",
                    "default": "ExitBlock",
                    "title": "Op"
                },
                "cfg_outputs": {
                    "items": {
                        "$ref": "#/$defs/Type"
                    },
                    "title": "Cfg Outputs",
                    "type": "array"
                }
            },
            "required": [
                "parent",
                "cfg_outputs"
            ],
            "title": "ExitBlock",
            "type": "object"
        },
        "ExtensionConst": {
            "description": "An extension constant value, that can check it is of a given [CustomType].",
            "properties": {
                "parent": {
                    "title": "Parent",
                    "type": "integer"
                },
                "input_extensions": {
                    "$ref": "#/$defs/ExtensionSet"
                },
                "op": {
                    "const": "Const",
                    "default": "Const",
                    "title": "Op"
                },
                "c": {
                    "const": "Extension",
                    "default": "Extension",
                    "title": "ConstTag"
                },
                "e": {
                    "title": "CustomConst"
                }
            },
            "required": [
                "parent",
                "op",
                "c",
                "e"
            ],
            "title": "ExtensionConst",
            "type": "object"
        },
        "ExtensionSet": {
            "anyOf": [
                {
                    "items": {
                        "type": "string"
                    },
                    "type": "array"
                },
                {
                    "type": "null"
                }
            ],
            "default": null,
            "description": "A set of extensions ids.",
            "title": "ExtensionSet"
        },
        "ExtensionsArg": {
            "properties": {
                "tya": {
                    "const": "Extensions",
                    "default": "Extensions",
                    "title": "Tya"
                },
                "es": {
                    "$ref": "#/$defs/ExtensionSet"
                }
            },
            "required": [
                "es"
            ],
            "title": "ExtensionsArg",
            "type": "object"
        },
        "FuncDecl": {
            "description": "External function declaration, linked at runtime.",
            "properties": {
                "parent": {
                    "title": "Parent",
                    "type": "integer"
                },
                "input_extensions": {
                    "$ref": "#/$defs/ExtensionSet"
                },
                "op": {
                    "const": "FuncDecl",
                    "default": "FuncDecl",
                    "title": "Op"
                },
                "name": {
                    "title": "Name",
                    "type": "string"
                },
                "signature": {
                    "$ref": "#/$defs/PolyFuncType"
                }
            },
            "required": [
                "parent",
                "name"
            ],
            "title": "FuncDecl",
            "type": "object"
        },
        "FuncDefn": {
            "description": "A function definition. Children nodes are the body of the definition.",
            "properties": {
                "parent": {
                    "title": "Parent",
                    "type": "integer"
                },
                "input_extensions": {
                    "$ref": "#/$defs/ExtensionSet"
                },
                "op": {
                    "const": "FuncDefn",
                    "default": "FuncDefn",
                    "title": "Op"
                },
                "name": {
                    "title": "Name",
                    "type": "string"
                },
                "signature": {
                    "$ref": "#/$defs/PolyFuncType"
                }
            },
            "required": [
                "parent",
                "name"
            ],
            "title": "FuncDefn",
            "type": "object"
        },
        "FunctionConst": {
            "description": "A higher-order function value.",
            "properties": {
                "parent": {
                    "title": "Parent",
                    "type": "integer"
                },
                "input_extensions": {
                    "$ref": "#/$defs/ExtensionSet"
                },
                "op": {
                    "const": "Const",
                    "default": "Const",
                    "title": "Op"
                },
                "c": {
                    "const": "Function",
                    "default": "Function",
                    "title": "ConstTag"
                },
                "hugr": {
                    "title": "Hugr"
                }
            },
            "required": [
                "parent",
                "op",
                "c",
                "hugr"
            ],
            "title": "FunctionConst",
            "type": "object"
        },
        "FunctionType": {
            "description": "A graph encoded as a value. It contains a concrete signature and a set of required resources.",
            "properties": {
                "input": {
                    "items": {
                        "$ref": "#/$defs/Type"
                    },
                    "title": "Input",
                    "type": "array"
                },
                "output": {
                    "items": {
                        "$ref": "#/$defs/Type"
                    },
                    "title": "Output",
                    "type": "array"
                },
                "extension_reqs": {
                    "$ref": "#/$defs/ExtensionSet"
                }
            },
            "required": [
                "input",
                "output"
            ],
            "title": "FunctionType",
            "type": "object"
        },
        "GeneralSum": {
            "description": "General sum type that explicitly stores the types of the variants.",
            "properties": {
                "t": {
                    "const": "Sum",
                    "default": "Sum",
                    "title": "T"
                },
                "s": {
                    "const": "General",
                    "default": "General",
                    "title": "S"
                },
                "rows": {
                    "items": {
                        "items": {
                            "$ref": "#/$defs/Type"
                        },
                        "type": "array"
                    },
                    "title": "Rows",
                    "type": "array"
                }
            },
            "required": [
                "rows"
            ],
            "title": "GeneralSum",
            "type": "object"
        },
        "Input": {
            "description": "An input node. The outputs of this node are the inputs to the parent node.",
            "properties": {
                "parent": {
                    "title": "Parent",
                    "type": "integer"
                },
                "input_extensions": {
                    "$ref": "#/$defs/ExtensionSet"
                },
                "op": {
                    "const": "Input",
                    "default": "Input",
                    "title": "Op"
                },
                "types": {
                    "items": {
                        "$ref": "#/$defs/Type"
                    },
                    "title": "Types",
                    "type": "array"
                }
            },
            "required": [
                "parent"
            ],
            "title": "Input",
            "type": "object"
        },
        "LeafOp": {
            "description": "A constant operation.",
            "discriminator": {
                "mapping": {
                    "CustomOp": "#/$defs/CustomOp",
                    "MakeTuple": "#/$defs/MakeTuple",
                    "Noop": "#/$defs/Noop",
                    "Tag": "#/$defs/Tag",
                    "TypeApply": "#/$defs/TypeApply",
                    "UnpackTuple": "#/$defs/UnpackTuple"
                },
                "propertyName": "lop"
            },
            "oneOf": [
                {
                    "$ref": "#/$defs/CustomOp"
                },
                {
                    "$ref": "#/$defs/Noop"
                },
                {
                    "$ref": "#/$defs/MakeTuple"
                },
                {
                    "$ref": "#/$defs/UnpackTuple"
                },
                {
                    "$ref": "#/$defs/Tag"
                },
                {
                    "$ref": "#/$defs/TypeApply"
                }
            ],
            "title": "LeafOp"
        },
        "ListParam": {
            "properties": {
                "tp": {
                    "const": "List",
                    "default": "List",
                    "title": "Tp"
                },
                "param": {
                    "$ref": "#/$defs/TypeParam"
                }
            },
            "required": [
                "param"
            ],
            "title": "ListParam",
            "type": "object"
        },
        "LoadConstant": {
            "description": "An operation that loads a static constant in to the local dataflow graph.",
            "properties": {
                "parent": {
                    "title": "Parent",
                    "type": "integer"
                },
                "input_extensions": {
                    "$ref": "#/$defs/ExtensionSet"
                },
                "op": {
                    "const": "LoadConstant",
                    "default": "LoadConstant",
                    "title": "Op"
                },
                "datatype": {
                    "$ref": "#/$defs/Type"
                }
            },
            "required": [
                "parent",
                "datatype"
            ],
            "title": "LoadConstant",
            "type": "object"
        },
        "MakeTuple": {
            "description": "An operation that packs all its inputs into a tuple.",
            "properties": {
                "parent": {
                    "title": "Parent",
                    "type": "integer"
                },
                "input_extensions": {
                    "$ref": "#/$defs/ExtensionSet"
                },
                "op": {
                    "const": "LeafOp",
                    "default": "LeafOp",
                    "title": "Op"
                },
                "lop": {
                    "const": "MakeTuple",
                    "default": "MakeTuple",
                    "title": "Lop"
                },
                "tys": {
                    "items": {
                        "$ref": "#/$defs/Type"
                    },
                    "title": "Tys",
                    "type": "array"
                }
            },
            "required": [
                "parent"
            ],
            "title": "MakeTuple",
            "type": "object"
        },
        "Module": {
            "description": "The root of a module, parent of all other `ModuleOp`s.",
            "properties": {
                "parent": {
                    "title": "Parent",
                    "type": "integer"
                },
                "input_extensions": {
                    "$ref": "#/$defs/ExtensionSet"
                },
                "op": {
                    "const": "Module",
                    "default": "Module",
                    "title": "Op"
                }
            },
            "required": [
                "parent"
            ],
            "title": "Module",
            "type": "object"
        },
        "Noop": {
            "description": "A no-op operation.",
            "properties": {
                "parent": {
                    "title": "Parent",
                    "type": "integer"
                },
                "input_extensions": {
                    "$ref": "#/$defs/ExtensionSet"
                },
                "op": {
                    "const": "LeafOp",
                    "default": "LeafOp",
                    "title": "Op"
                },
                "lop": {
                    "const": "Noop",
                    "default": "Noop",
                    "title": "Lop"
                },
                "ty": {
                    "$ref": "#/$defs/Type"
                }
            },
            "required": [
                "parent",
                "ty"
            ],
            "title": "Noop",
            "type": "object"
        },
        "OpType": {
            "description": "A constant operation.",
            "discriminator": {
                "mapping": {
                    "CFG": "#/$defs/CFG",
                    "Call": "#/$defs/Call",
                    "CallIndirect": "#/$defs/CallIndirect",
                    "Case": "#/$defs/Case",
                    "Conditional": "#/$defs/Conditional",
                    "Const": "#/$defs/Const",
                    "DFG": "#/$defs/DFG",
                    "DataflowBlock": "#/$defs/DataflowBlock",
                    "ExitBlock": "#/$defs/ExitBlock",
                    "FuncDecl": "#/$defs/FuncDecl",
                    "FuncDefn": "#/$defs/FuncDefn",
                    "Input": "#/$defs/Input",
                    "LeafOp": "#/$defs/LeafOp",
                    "LoadConstant": "#/$defs/LoadConstant",
                    "Module": "#/$defs/Module",
                    "Output": "#/$defs/Output",
                    "TailLoop": "#/$defs/TailLoop"
                },
                "propertyName": "op"
            },
            "oneOf": [
                {
                    "$ref": "#/$defs/Module"
                },
                {
                    "$ref": "#/$defs/Case"
                },
                {
                    "$ref": "#/$defs/FuncDefn"
                },
                {
                    "$ref": "#/$defs/FuncDecl"
                },
                {
                    "$ref": "#/$defs/Const"
                },
                {
                    "$ref": "#/$defs/DataflowBlock"
                },
                {
                    "$ref": "#/$defs/ExitBlock"
                },
                {
                    "$ref": "#/$defs/Conditional"
                },
                {
                    "$ref": "#/$defs/TailLoop"
                },
                {
                    "$ref": "#/$defs/CFG"
                },
                {
                    "$ref": "#/$defs/Input"
                },
                {
                    "$ref": "#/$defs/Output"
                },
                {
                    "$ref": "#/$defs/Call"
                },
                {
                    "$ref": "#/$defs/CallIndirect"
                },
                {
                    "$ref": "#/$defs/LoadConstant"
                },
                {
                    "$ref": "#/$defs/LeafOp"
                },
                {
                    "$ref": "#/$defs/DFG"
                }
            ],
            "title": "OpType"
        },
        "Opaque": {
            "description": "An opaque operation that can be downcasted by the extensions that define it.",
            "properties": {
                "t": {
                    "const": "Opaque",
                    "default": "Opaque",
                    "title": "T"
                },
                "extension": {
                    "title": "Extension",
                    "type": "string"
                },
                "id": {
                    "title": "Id",
                    "type": "string"
                },
                "args": {
                    "items": {
                        "$ref": "#/$defs/TypeArg"
                    },
                    "title": "Args",
                    "type": "array"
                },
                "bound": {
                    "$ref": "#/$defs/TypeBound"
                }
            },
            "required": [
                "extension",
                "id",
                "args",
                "bound"
            ],
            "title": "Opaque",
            "type": "object"
        },
        "OpaqueArg": {
            "properties": {
                "tya": {
                    "const": "Opaque",
                    "default": "Opaque",
                    "title": "Tya"
                },
                "arg": {
                    "$ref": "#/$defs/CustomTypeArg"
                }
            },
            "required": [
                "arg"
            ],
            "title": "OpaqueArg",
            "type": "object"
        },
        "OpaqueParam": {
            "properties": {
                "tp": {
                    "const": "Opaque",
                    "default": "Opaque",
                    "title": "Tp"
                },
                "ty": {
                    "$ref": "#/$defs/Opaque"
                }
            },
            "required": [
                "ty"
            ],
            "title": "OpaqueParam",
            "type": "object"
        },
        "Output": {
            "description": "An output node. The inputs are the outputs of the function.",
            "properties": {
                "parent": {
                    "title": "Parent",
                    "type": "integer"
                },
                "input_extensions": {
                    "$ref": "#/$defs/ExtensionSet"
                },
                "op": {
                    "const": "Output",
                    "default": "Output",
                    "title": "Op"
                },
                "types": {
                    "items": {
                        "$ref": "#/$defs/Type"
                    },
                    "title": "Types",
                    "type": "array"
                }
            },
            "required": [
                "parent"
            ],
            "title": "Output",
            "type": "object"
        },
        "PolyFuncType": {
            "description": "A graph encoded as a value. It contains a concrete signature and a set of required resources.",
            "properties": {
                "t": {
                    "const": "G",
                    "default": "G",
                    "title": "T"
                },
                "params": {
                    "items": {
                        "$ref": "#/$defs/TypeParam"
                    },
                    "title": "Params",
                    "type": "array"
                },
                "body": {
                    "$ref": "#/$defs/FunctionType"
                }
            },
            "required": [
                "params",
                "body"
            ],
            "title": "PolyFuncType",
            "type": "object"
        },
        "Qubit": {
            "description": "A qubit.",
            "properties": {
                "t": {
                    "const": "Q",
                    "default": "Q",
                    "title": "T"
                }
            },
            "title": "Qubit",
            "type": "object"
        },
        "SequenceArg": {
            "properties": {
                "tya": {
                    "const": "Sequence",
                    "default": "Sequence",
                    "title": "Tya"
                },
                "args": {
                    "items": {
                        "$ref": "#/$defs/TypeArg"
                    },
                    "title": "Args",
                    "type": "array"
                }
            },
            "required": [
                "args"
            ],
            "title": "SequenceArg",
            "type": "object"
        },
        "Sum": {
            "description": "A Sum variant For any Sum type where this value meets the type of the variant indicated by the tag.",
            "properties": {
                "parent": {
                    "title": "Parent",
                    "type": "integer"
                },
                "input_extensions": {
                    "$ref": "#/$defs/ExtensionSet"
                },
                "op": {
                    "const": "Const",
                    "default": "Const",
                    "title": "Op"
                },
                "c": {
                    "const": "Sum",
                    "default": "Sum",
                    "title": "ConstTag"
                },
                "tag": {
                    "title": "Tag",
                    "type": "integer"
                },
                "typ": {
                    "$ref": "#/$defs/Type"
                },
                "vs": {
                    "items": {
                        "$ref": "#/$defs/Const"
                    },
                    "title": "Vs",
                    "type": "array"
                }
            },
            "required": [
                "parent",
                "op",
                "c",
                "tag",
                "typ",
                "vs"
            ],
            "title": "Sum",
            "type": "object"
        },
        "SumType": {
            "discriminator": {
                "mapping": {
                    "General": "#/$defs/GeneralSum",
                    "Unit": "#/$defs/UnitSum"
                },
                "propertyName": "s"
            },
            "oneOf": [
                {
                    "$ref": "#/$defs/UnitSum"
                },
                {
                    "$ref": "#/$defs/GeneralSum"
                }
            ],
            "title": "SumType"
        },
        "Tag": {
            "description": "An operation that creates a tagged sum value from one of its variants.",
            "properties": {
                "parent": {
                    "title": "Parent",
                    "type": "integer"
                },
                "input_extensions": {
                    "$ref": "#/$defs/ExtensionSet"
                },
                "op": {
                    "const": "LeafOp",
                    "default": "LeafOp",
                    "title": "Op"
                },
                "lop": {
                    "const": "Tag",
                    "default": "Tag",
                    "title": "Lop"
                },
                "tag": {
                    "title": "Tag",
                    "type": "integer"
                },
                "variants": {
                    "items": {
                        "$ref": "#/$defs/Type"
                    },
                    "title": "Variants",
                    "type": "array"
                }
            },
            "required": [
                "parent",
                "tag",
                "variants"
            ],
            "title": "Tag",
            "type": "object"
        },
        "TailLoop": {
            "description": "Tail-controlled loop.",
            "properties": {
                "parent": {
                    "title": "Parent",
                    "type": "integer"
                },
                "input_extensions": {
                    "$ref": "#/$defs/ExtensionSet"
                },
                "op": {
                    "const": "TailLoop",
                    "default": "TailLoop",
                    "title": "Op"
                },
                "just_inputs": {
                    "items": {
                        "$ref": "#/$defs/Type"
                    },
                    "title": "Just Inputs",
                    "type": "array"
                },
                "just_outputs": {
                    "items": {
                        "$ref": "#/$defs/Type"
                    },
                    "title": "Just Outputs",
                    "type": "array"
                },
                "rest": {
                    "items": {
                        "$ref": "#/$defs/Type"
                    },
                    "title": "Rest",
                    "type": "array"
                }
            },
            "required": [
                "parent"
            ],
            "title": "TailLoop",
            "type": "object"
        },
        "Tuple": {
            "description": "A constant tuple value.",
            "properties": {
                "parent": {
                    "title": "Parent",
                    "type": "integer"
                },
                "input_extensions": {
                    "$ref": "#/$defs/ExtensionSet"
                },
                "op": {
                    "const": "Const",
                    "default": "Const",
                    "title": "Op"
                },
                "c": {
                    "const": "Tuple",
                    "default": "Tuple",
                    "title": "ConstTag"
                },
                "vs": {
                    "items": {
                        "$ref": "#/$defs/Const"
                    },
                    "title": "Vs",
                    "type": "array"
                }
            },
            "required": [
                "parent",
                "op",
                "c",
                "vs"
            ],
            "title": "Tuple",
            "type": "object"
        },
        "TupleParam": {
            "properties": {
                "tp": {
                    "const": "Tuple",
                    "default": "Tuple",
                    "title": "Tp"
                },
                "params": {
                    "items": {
                        "$ref": "#/$defs/TypeParam"
                    },
                    "title": "Params",
                    "type": "array"
                }
            },
            "required": [
                "params"
            ],
            "title": "TupleParam",
            "type": "object"
        },
        "Type": {
            "description": "A HUGR type.",
            "discriminator": {
                "mapping": {
                    "Array": "#/$defs/Array",
                    "G": "#/$defs/PolyFuncType",
                    "I": "#/$defs/USize",
                    "Opaque": "#/$defs/Opaque",
                    "Q": "#/$defs/Qubit",
                    "Sum": "#/$defs/SumType",
                    "V": "#/$defs/Variable"
                },
                "propertyName": "t"
            },
            "oneOf": [
                {
                    "$ref": "#/$defs/Qubit"
                },
                {
                    "$ref": "#/$defs/Variable"
                },
                {
                    "$ref": "#/$defs/USize"
                },
                {
                    "$ref": "#/$defs/PolyFuncType"
                },
                {
                    "$ref": "#/$defs/Array"
                },
                {
                    "$ref": "#/$defs/SumType"
                },
                {
                    "$ref": "#/$defs/Opaque"
                }
            ],
            "title": "Type"
        },
        "TypeApplication": {
            "description": "Records details of an application of a PolyFuncType to some TypeArgs and the result (a less-, but still potentially-, polymorphic type).",
            "properties": {
                "input": {
                    "$ref": "#/$defs/PolyFuncType"
                },
                "args": {
                    "items": {
                        "$ref": "#/$defs/TypeTypeArg"
                    },
                    "title": "Args",
                    "type": "array"
                },
                "output": {
                    "$ref": "#/$defs/PolyFuncType"
                }
            },
            "required": [
                "input",
                "args",
                "output"
            ],
            "title": "TypeApplication",
            "type": "object"
        },
        "TypeApply": {
            "description": "Fixes some TypeParams of a polymorphic type by providing TypeArgs.",
            "properties": {
                "parent": {
                    "title": "Parent",
                    "type": "integer"
                },
                "input_extensions": {
                    "$ref": "#/$defs/ExtensionSet"
                },
                "op": {
                    "const": "LeafOp",
                    "default": "LeafOp",
                    "title": "Op"
                },
                "lop": {
                    "const": "TypeApply",
                    "default": "TypeApply",
                    "title": "Lop"
                },
                "ta": {
                    "$ref": "#/$defs/TypeApplication"
                }
            },
            "required": [
                "parent",
                "ta"
            ],
            "title": "TypeApply",
            "type": "object"
        },
        "TypeArg": {
            "description": "A type argument.",
            "discriminator": {
                "mapping": {
                    "BoundedNat": "#/$defs/BoundedNatArg",
                    "Extensions": "#/$defs/ExtensionsArg",
                    "Opaque": "#/$defs/OpaqueArg",
                    "Sequence": "#/$defs/SequenceArg",
                    "Type": "#/$defs/TypeTypeArg"
                },
                "propertyName": "tya"
            },
            "oneOf": [
                {
                    "$ref": "#/$defs/TypeTypeArg"
                },
                {
                    "$ref": "#/$defs/BoundedNatArg"
                },
                {
                    "$ref": "#/$defs/OpaqueArg"
                },
                {
                    "$ref": "#/$defs/SequenceArg"
                },
                {
                    "$ref": "#/$defs/ExtensionsArg"
                }
            ],
            "title": "TypeArg"
        },
        "TypeBound": {
            "enum": [
                "E",
                "C",
                "A"
            ],
            "title": "TypeBound",
            "type": "string"
        },
        "TypeParam": {
            "description": "A type parameter.",
            "discriminator": {
                "mapping": {
                    "BoundedNat": "#/$defs/BoundedNatParam",
                    "List": "#/$defs/ListParam",
                    "Opaque": "#/$defs/OpaqueParam",
                    "Tuple": "#/$defs/TupleParam",
                    "Type": "#/$defs/TypeTypeParam"
                },
                "propertyName": "tp"
            },
            "oneOf": [
                {
                    "$ref": "#/$defs/TypeTypeParam"
                },
                {
                    "$ref": "#/$defs/BoundedNatParam"
                },
                {
                    "$ref": "#/$defs/OpaqueParam"
                },
                {
                    "$ref": "#/$defs/ListParam"
                },
                {
                    "$ref": "#/$defs/TupleParam"
                }
            ],
            "title": "TypeParam"
        },
        "TypeTypeArg": {
            "properties": {
                "tya": {
                    "const": "Type",
                    "default": "Type",
                    "title": "Tya"
                },
                "ty": {
                    "$ref": "#/$defs/Type"
                }
            },
            "required": [
                "ty"
            ],
            "title": "TypeTypeArg",
            "type": "object"
        },
        "TypeTypeParam": {
            "properties": {
                "tp": {
                    "const": "Type",
                    "default": "Type",
                    "title": "Tp"
                },
                "b": {
                    "$ref": "#/$defs/TypeBound"
                }
            },
            "required": [
                "b"
            ],
            "title": "TypeTypeParam",
            "type": "object"
        },
        "USize": {
            "description": "Unsigned integer size type.",
            "properties": {
                "t": {
                    "const": "I",
                    "default": "I",
                    "title": "T"
                }
            },
            "title": "USize",
            "type": "object"
        },
        "UnitSum": {
            "description": "Simple predicate where all variants are empty tuples.",
            "properties": {
                "t": {
                    "const": "Sum",
                    "default": "Sum",
                    "title": "T"
                },
                "s": {
                    "const": "Unit",
                    "default": "Unit",
                    "title": "S"
                },
                "size": {
                    "title": "Size",
                    "type": "integer"
                }
            },
            "required": [
                "size"
            ],
            "title": "UnitSum",
            "type": "object"
        },
        "UnpackTuple": {
            "description": "An operation that packs all its inputs into a tuple.",
            "properties": {
                "parent": {
                    "title": "Parent",
                    "type": "integer"
                },
                "input_extensions": {
                    "$ref": "#/$defs/ExtensionSet"
                },
                "op": {
                    "const": "LeafOp",
                    "default": "LeafOp",
                    "title": "Op"
                },
                "lop": {
                    "const": "UnpackTuple",
                    "default": "UnpackTuple",
                    "title": "Lop"
                },
                "tys": {
                    "items": {
                        "$ref": "#/$defs/Type"
                    },
                    "title": "Tys",
                    "type": "array"
                }
            },
            "required": [
                "parent"
            ],
            "title": "UnpackTuple",
            "type": "object"
        },
        "Variable": {
            "description": "A type variable identified by a de Bruijn index.",
            "properties": {
                "t": {
                    "const": "V",
                    "default": "V",
                    "title": "T"
                },
                "i": {
                    "title": "I",
                    "type": "integer"
                },
                "b": {
                    "$ref": "#/$defs/TypeBound"
                }
            },
            "required": [
                "i",
                "b"
            ],
            "title": "Variable",
            "type": "object"
        }
    },
    "description": "A serializable representation of a Hugr.",
    "properties": {
        "version": {
            "const": "v1",
            "default": "v1",
            "title": "Version"
        },
        "nodes": {
            "items": {
                "$ref": "#/$defs/OpType"
            },
            "title": "Nodes",
            "type": "array"
        },
        "edges": {
            "items": {
                "maxItems": 2,
                "minItems": 2,
                "prefixItems": [
                    {
                        "maxItems": 2,
                        "minItems": 2,
                        "prefixItems": [
                            {
                                "type": "integer"
                            },
                            {
                                "anyOf": [
                                    {
                                        "type": "integer"
                                    },
                                    {
                                        "type": "null"
                                    }
                                ]
                            }
                        ],
                        "type": "array"
                    },
                    {
                        "maxItems": 2,
                        "minItems": 2,
                        "prefixItems": [
                            {
                                "type": "integer"
                            },
                            {
                                "anyOf": [
                                    {
                                        "type": "integer"
                                    },
                                    {
                                        "type": "null"
                                    }
                                ]
                            }
                        ],
                        "type": "array"
                    }
                ],
                "type": "array"
            },
            "title": "Edges",
            "type": "array"
        }
    },
    "required": [
        "version",
        "nodes",
        "edges"
    ],
    "title": "Hugr",
    "type": "object"
}